<!DOCTYPE html>
<html>
  <head>
    <title>Admin | 飯店図鑑</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body style="margin:0; font-family: system-ui; background:#f3f4f6;">

    <!-- Header -->
    <header style="height:56px; background:#111827; color:#fff;
                   display:flex; align-items:center; justify-content:space-between;
                   padding:0 16px;">
      <strong>飯店図鑑 管理画面</strong>
      <div>
        <span style="margin-right:12px;"><%= current_admin_user&.email %></span>
        <%= button_to "ログアウト", destroy_admin_user_session_path,
              method: :delete,
              style: "padding:6px 10px; border-radius:6px; border:none; cursor:pointer;" %>
      </div>
    </header>

    <div style="display:flex; min-height:calc(100vh - 56px);">

      <!-- Sidebar -->
      <aside style="width:220px; background:#1f2937; padding:16px;">
        <nav style="display:flex; flex-direction:column; gap:10px;">
          <%= link_to "ダッシュボード", admin_root_path,
                style: "color:#fff; text-decoration:none;" %>
          <%= link_to "飲食店追加", admin_search_restaurants_path,
                style: "color:#fff; text-decoration:none;" %>
          <%= link_to "飲食店一覧", admin_restaurants_path,
                style: "color:#fff; text-decoration:none;" %>
        </nav>
      </aside>

      <!-- Main -->
      <main style="flex:1; padding:24px;">
        <% flash.each do |type, msg| %>
          <div style="margin-bottom:12px; padding:10px; background:#fff; border-radius:8px;">
            <%= msg %>
          </div>
        <% end %>

        <%= yield %>
      </main>
    </div>

  </body>
</html>