<div class="flex h-[calc(100vh-8rem)]">
  <div class="w-full md:w-1/4 bg-gray-50 border-r p-6 overflow-y-auto">
    <%= link_to "← Top", root_path, class: "text-red-500 hover:underline block mt-6" %>
    <h2 class="text-xl font-bold mb-4">検索</h2>

    <%= search_form_for @q, url: restaurants_path, method: :get, html: { class: "space-y-4" } do |f| %>
      <div>
        <%= f.label :name_or_address_cont, "店名・住所", class: "block text-gray-700 mb-2 font-medium" %>
        <%= f.search_field :name_or_address_cont,
            placeholder: "例：大阪市中央区",
            class: "w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-yellow-400 focus:outline-none" %>
      </div>

      <div>
        <%= f.submit "検索",
            class: "w-full bg-red-500 text-white font-semibold py-2 rounded-lg hover:bg-red-600 transition" %>
      </div>
    <% end %>
  </div>

  <div class="flex-1 overflow-y-auto p-6 bg-white">
    <h1 class="text-2xl font-bold mb-4">町中華一覧</h1>

    <% if @restaurants.any? %>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <% @restaurants.each do |restaurant| %>
          <%= link_to restaurant_path(restaurant), class: "block border rounded-lg p-4 shadow hover:shadow-lg transition bg-white" do %>
            <h2 class="text-xl font-semibold mb-1"><%= restaurant.name %></h2>
            <p class="text-gray-600"><%= restaurant.address.presence || "住所情報なし" %></p>
            <% if restaurant.phone_number.present? %>
              <p class="text-gray-600">📞 <%= restaurant.phone_number %></p>
            <% end %>
            <% if restaurant.website.present? %>
              <p class="text-blue-500 underline">公式サイト</p>
            <% end %>
          <% end %>
        <% end %>
      </div>
    <% else %>
      <p class="text-gray-600 mt-4">該当する店舗は見つかりませんでした。</p>
    <% end %>
  </div>
</div>