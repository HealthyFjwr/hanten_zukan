<div>
<h1>飲食店一覧</h1>

<%= search_form_for @q, url: admin_restaurants_path, method: :get do |f| %>
  <div style="display:flex; gap:8px; margin: 12px 0;">
    <%= f.search_field :name_or_address_cont, placeholder: "店名 or 住所", style: "padding:8px; width: 320px;" %>
    <%= f.submit "検索", style: "padding:8px 12px;" %>
  </div>
<% end %>

<table border="1" cellpadding="8" style="border-collapse: collapse; width: 100%;">
  <thead>
    <tr>
      <th>店名</th>
      <th>住所</th>
      <th>登録日</th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @restaurants.each do |restaurant| %>
      <tr>
        <td><%= restaurant.name %></td>
        <td><%= restaurant.address %></td>
        <td><%= restaurant.created_at.strftime("%Y-%m-%d %H:%M") %></td>
        <td><%= link_to "詳細", admin_restaurant_path(restaurant) %></td>
        <td><%= link_to "削除", admin_restaurant_path(restaurant),
            data: { turbo_method: :delete, turbo_confirm: '削除しますか？' } %></td>
      </tr>
    <% end %>

    <% if @restaurants.empty? %>
      <tr><td colspan="5">未登録</td></tr>
    <% end %>
  </tbody>
</table>